{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '47540419-36cc7af233202b3a7b66af182';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst axiosInstance = axios.create({\n  baseURL: BASE_URL,\n  params: {\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 15,\n  },\n});\n\nfunction handleError(error) {\n  console.error('–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:', error.message || error);\n  return [];\n}\n\nexport async function getImagesByQuery(query, page = 1) {\n  try {\n    const response = await axiosInstance.get('', {\n      params: { q: query, page },\n    });\n    console.log(response.data);\n    if (!response.data.hits?.length) {\n      console.warn(`–ù–µ–º–∞—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ –¥–ª—è –∑–∞–ø–∏—Ç—É: ${query}`);\n    }\n    return response.data.hits;\n  } catch (error) {\n    console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:', error);\n    alert('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è');\n\n    return handleError(error);\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox;\n\nexport async function fetchImages(query) {\n  const API_URL = `https://pixabay.com/api/?key=YOUR_API_KEY&q=${query}&image_type=photo&orientation=horizontal&safesearch=true&per_page=15`;\n\n  toggleLoader(true); // –ü–æ–∫–∞–∑—É—î–º–æ –ª–æ–∞–¥–µ—Ä\n\n  try {\n    const response = await fetch(API_URL);\n    if (!response.ok) {\n      throw new Error(`–ü–æ–º–∏–ª–∫–∞ HTTP: ${response.status}`);\n    }\n    const data = await response.json();\n    toggleLoader(false); // –•–æ–≤–∞—î–º–æ –ª–æ–∞–¥–µ—Ä\n    return data.hits;\n  } catch (error) {\n    console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:', error);\n    toggleLoader(false);\n    return [];\n  }\n}\n\nexport function createGallery(images) {\n  const galleryContainer = document.querySelector('.gallery');\n  if (!galleryContainer) {\n    console.error('–ï–ª–µ–º–µ–Ω—Ç .gallery –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!');\n    return;\n  }\n  clearGallery();\n\n  const markup = images\n    .map(\n      image => `\n      <li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n        </a>\n        <div class=\"image-info\">\n          <p>‚ù§Ô∏è ${image.likes}</p>\n          <p>üëÅÔ∏è ${image.views}</p>\n          <p>üí¨ ${image.comments}</p>\n          <p>‚¨áÔ∏è ${image.downloads}</p>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n\n  galleryContainer.innerHTML = markup;\n\n  // –û–Ω–æ–≤–ª–µ–Ω–Ω—è SimpleLightbox\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nexport function toggleLoader(show) {\n  const loader = document.querySelector('.loader');\n  if (!loader) {\n    console.error('–ï–ª–µ–º–µ–Ω—Ç .loader –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!');\n    return;\n  }\n  if (show) {\n    loader.classList.add('visible');\n  } else {\n    loader.classList.remove('visible');\n  }\n}\n\nexport async function searchImages(query) {\n  const images = await fetchImages(query);\n  if (images.length) {\n    createGallery(images);\n  }\n}\n\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('visible');\n  } else {\n    console.error('–ï–ª–µ–º–µ–Ω—Ç .loader –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!');\n  }\n}\n\nexport function showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('visible');\n  } else {\n    console.error('–ï–ª–µ–º–µ–Ω—Ç .loader –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!');\n  }\n}\n\nexport function clearGallery() {\n  const gallery = document.querySelector('.gallery');\n  if (gallery) {\n    const images = gallery.querySelectorAll('.gallery-item');\n    images.forEach(img => img.remove());\n  } else {\n    console.error('–ï–ª–µ–º–µ–Ω—Ç .gallery –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ!');\n  }\n}\nfunction renderImages(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images\n    .map(\n      image => `\n    <div class=\"image-card\">\n      <img src=\"${image.previewURL}\" alt=\"${image.tags}\">\n      <p>${image.tags}</p>\n    </div>\n  `\n    )\n    .join('');\n}\n\nexport default {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n};\n","import { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  const query = event.target.elements['search-text'].value.trim();\n\n  if (!query) {\n    return iziToast.error({ message: '–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∑–∞–ø–∏—Ç!' });\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const { hits } = await getImagesByQuery(query);\n    if (!hits?.length) {\n      iziToast.warning({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    } else {\n      console.log('–û—Ç—Ä–∏–º–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è:', hits);\n\n      createGallery(hits);\n    }\n  } catch (error) {\n    handleError(error);\n  }\n\n  hideLoader();\n});\n\nfunction handleError(error) {\n  console.error('–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:', error.message || error);\n  iziToast.error({ message: '–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è!' });\n}\n"],"names":["API_KEY","BASE_URL","axiosInstance","axios","handleError","error","getImagesByQuery","query","page","response","_a","lightbox","createGallery","images","galleryContainer","clearGallery","markup","image","SimpleLightbox","hideLoader","loader","showLoader","gallery","img","searchForm","event","iziToast","hits"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEXC,EAAgBC,EAAM,OAAO,CACjC,QAASF,EACT,OAAQ,CACN,IAAKD,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACH,CAAC,EAED,SAASI,EAAYC,EAAO,CAC1B,eAAQ,MAAM,+BAAgCA,EAAM,SAAWA,CAAK,EAC7D,EACT,CAEO,eAAeC,EAAiBC,EAAOC,EAAO,EAAG,OACtD,GAAI,CACF,MAAMC,EAAW,MAAMP,EAAc,IAAI,GAAI,CAC3C,OAAQ,CAAE,EAAGK,EAAO,KAAAC,CAAM,CAChC,CAAK,EACD,eAAQ,IAAIC,EAAS,IAAI,GACpBC,EAAAD,EAAS,KAAK,OAAd,MAAAC,EAAoB,QACvB,QAAQ,KAAK,iCAAiCH,CAAK,EAAE,EAEhDE,EAAS,KAAK,IACtB,OAAQJ,EAAO,CACd,eAAQ,MAAM,wBAAyBA,CAAK,EAC5C,MAAM,mCAAmC,EAElCD,EAAYC,CAAK,CACzB,CACH,CClCA,IAAIM,EAsBG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAmB,SAAS,cAAc,UAAU,EAC1D,GAAI,CAACA,EAAkB,CACrB,QAAQ,MAAM,+BAA+B,EAC7C,MACD,CACDC,IAEA,MAAMC,EAASH,EACZ,IACCI,GAAS;AAAA;AAAA,mBAEIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,kBAG1CA,EAAM,KAAK;AAAA,mBACVA,EAAM,KAAK;AAAA,kBACZA,EAAM,QAAQ;AAAA,kBACdA,EAAM,SAAS;AAAA;AAAA;AAAA,KAI5B,EACA,KAAK,EAAE,EAEVH,EAAiB,UAAYE,EAGzBL,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,YAAY,CAE9C,CAsBO,SAASC,GAAa,CAC3B,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,OAAO,SAAS,EAEjC,QAAQ,MAAM,8BAA8B,CAEhD,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,IAAI,SAAS,EAE9B,QAAQ,MAAM,8BAA8B,CAEhD,CAEO,SAASL,GAAe,CAC7B,MAAMO,EAAU,SAAS,cAAc,UAAU,EAC7CA,EACaA,EAAQ,iBAAiB,eAAe,EAChD,QAAQC,GAAOA,EAAI,OAAQ,CAAA,EAElC,QAAQ,MAAM,+BAA+B,CAEjD,CCjGA,MAAMC,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAU,MAAMC,GAAS,CACnDA,EAAM,eAAc,EACpB,MAAMlB,EAAQkB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GAAI,CAAClB,EACH,OAAOmB,EAAS,MAAM,CAAE,QAAS,4BAA8B,CAAA,EAGjEX,IACAM,IAEA,GAAI,CACF,KAAM,CAAE,KAAAM,CAAM,EAAG,MAAMrB,EAAiBC,CAAK,EACxCoB,GAAA,MAAAA,EAAM,QAMT,QAAQ,IAAI,uBAAwBA,CAAI,EAExCf,EAAce,CAAI,GAPlBD,EAAS,QAAQ,CACf,QACE,0EACV,CAAO,CAMJ,OAAQrB,EAAO,CACdD,EAAYC,CAAK,CAClB,CAEDc,GACF,CAAC,EAED,SAASf,EAAYC,EAAO,CAC1B,QAAQ,MAAM,+BAAgCA,EAAM,SAAWA,CAAK,EACpEqB,EAAS,MAAM,CAAE,QAAS,oCAAsC,CAAA,CAClE"}