import{a as S,S as E,i as d}from"./assets/vendor-DxEWe7lX.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&l(a)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();const q="47540419-36cc7af233202b3a7b66af182",M="https://pixabay.com/api/";async function h(e,r=1){try{return(await S.get(M,{params:{key:q,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:r}})).data}catch(s){return console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:",s),{hits:[]}}}const m=document.querySelector(".gallery"),g=document.querySelector(".loader"),y=document.getElementById("load-more");let f;function p(e){const r=e.map(({webformatURL:s,largeImageURL:l,tags:t,likes:o,views:a,comments:$,downloads:B})=>`<li class="gallery-item">
      <a href="${l}" class="gallery-link">
        <img src="${s}" alt="${t}" loading="lazy">
      </a>
      <div class="image-info">
        <p>‚ù§Ô∏è ${o}</p>
        <p>üëÅÔ∏è ${a}</p>
        <p>üí¨ ${$}</p>
        <p>‚¨áÔ∏è ${B}</p>
      </div>
    </li>`).join("");m.insertAdjacentHTML("beforeend",r),f?f.refresh():f=new E(".gallery a")}function P(){m.innerHTML=""}function L(){g.classList.remove("hidden")}function b(){g.classList.add("hidden")}function v(){y.classList.remove("hidden")}function i(){y.classList.add("hidden")}const H=document.querySelector(".form"),I=document.getElementById("load-more");let c="",u=1,n=0;H.addEventListener("submit",async e=>{if(e.preventDefault(),c=e.target.elements["search-text"].value.trim(),u=1,n=0,!c)return d.error({message:"–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∑–∞–ø–∏—Ç!"});P(),i(),L();try{const r=await h(c,u);b(),!r||!r.hits||r.hits.length===0?(d.warning({message:"Sorry, there are no images matching your search query. Please try again!"}),i()):(p(r.hits),n=r.hits.length,n<r.totalHits?v():i())}catch(r){w(r)}});I.addEventListener("click",async()=>{u++,L();try{const e=await h(c,u);b(),!e||!e.hits||e.hits.length===0?(i(),d.info({message:"You've reached the end of search results."})):(p(e.hits),n+=e.hits.length,console.log(`–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: ${n}, –í—Å—å–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ: ${e.totalHits}`),n>=e.totalHits?i():v(),window.scrollBy({top:document.querySelector(".gallery").offsetHeight*2,behavior:"smooth"}))}catch(e){w(e)}});function w(e){console.error("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:",e.message||e),d.error({message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è!"})}
//# sourceMappingURL=index.js.map
