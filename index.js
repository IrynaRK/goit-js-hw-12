import{a as S,S as E,i as a}from"./assets/vendor-DxEWe7lX.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const q="47540419-36cc7af233202b3a7b66af182",M="https://pixabay.com/api/";async function m(e,t=1){try{return(await S.get(M,{params:{key:q,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:15,page:t}})).data}catch(s){return console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:",s),{hits:[]}}}const y=document.querySelector(".gallery"),u=document.querySelector(".loader"),g=document.getElementById("load-more");let h;function p(e){const t=e.map(({webformatURL:s,largeImageURL:l,tags:r,likes:o,views:i,comments:$,downloads:B})=>`<li class="gallery-item">
      <a href="${l}" class="gallery-link">
        <img src="${s}" alt="${r}" loading="lazy">
      </a>
      <div class="image-info">
        <p>‚ù§Ô∏è ${o}</p>
        <p>üëÅÔ∏è ${i}</p>
        <p>üí¨ ${$}</p>
        <p>‚¨áÔ∏è ${B}</p>
      </div>
    </li>`).join("");y.insertAdjacentHTML("beforeend",t),h?h.refresh():h=new E(".gallery a")}function P(){y.innerHTML=""}function L(){u.style.display="block",u.classList.add("visible")}function b(){u.style.display="none",u.classList.remove("visible")}function v(){g.style.display="block"}function c(){g.style.display="none"}const H=document.querySelector(".form"),I=document.getElementById("load-more");let d="",f=1,n=0;H.addEventListener("submit",async e=>{if(e.preventDefault(),d=e.target.elements["search-text"].value.trim(),f=1,n=0,!d)return a.error({message:"–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–≤–µ–¥—ñ—Ç—å –∑–∞–ø–∏—Ç!"});P(),c(),L();try{const t=await m(d,f);b(),!t||!t.hits||t.hits.length===0?(a.warning({message:"Sorry, there are no images matching your search query. Please try again!"}),c()):(p(t.hits),n=t.hits.length,n+t.hits.length<t.totalHits?v():(c(),a.info({message:"You've reached the end of search results."})))}catch(t){w(t)}});I.addEventListener("click",async()=>{f++,L();try{const e=await m(d,f);b(),!e||!e.hits||e.hits.length===0?(c(),a.info({message:"You've reached the end of search results."})):(p(e.hits),n+=e.hits.length,console.log(`–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ: ${n}, –í—Å—å–æ–≥–æ –¥–æ—Å—Ç—É–ø–Ω–æ: ${e.totalHits}`),n>=e.totalHits?a.info({message:"You've reached the end of search results."}):v(),window.scrollBy({top:document.querySelector(".gallery").offsetHeight*2,behavior:"smooth"}))}catch(e){w(e)}});function w(e){console.error("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–æ–±—Ä–∞–∂–µ–Ω—å:",e.message||e),a.error({message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è!"})}
//# sourceMappingURL=index.js.map
